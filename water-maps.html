<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Water Maps — Hopkinton Fire Department</title>

  <!-- Site styles -->
  <link rel="stylesheet" href="styles.css"/>

  <!-- Map styles moved to an external file to satisfy strict CSP -->
  <link rel="stylesheet" href="water-maps.css"/>

  <!-- Local Leaflet; images expected in leaflet/images/ -->
  <link rel="stylesheet" href="leaflet/leaflet.css"/>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <nav class="nav">
        <a class="nav__brand" href="home.html">Hopkinton Fire Department</a>
        <ul class="nav__links">
          <li><a href="home.html">Home</a></li>
          <li class="dropdown">
            <a class="dropbtn" href="apparatus.html">Apparatus ▾</a>
            <ul class="dropdown-content">
              <li class="dropdown-submenu">
                <a class="submenu-btn" href="engine1.html">Engine 1 ▸</a>
                <ul class="submenu">
                  <li><a class="active" href="engine1.html">Overview</a></li>
                  <li><a href="engine1-specifications.html">Specifications</a></li>
                  <li><a href="engine1-hose.html">Hose</a></li>
                  <li><a href="engine1-equipment.html">Equipment</a></li>
                  <li><a href="engine1-foam.html">Foam Operations</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="submenu-btn" href="engine2.html">Engine 2 ▸</a>
                <ul class="submenu">
                  <li><a href="engine2.html">Overview</a></li>
                  <li><a href="engine2-specifications.html">Specifications</a></li>
                  <li><a href="engine2-hose.html">Hose</a></li>
                  <li><a href="engine2-equipment.html">Equipment</a></li>
                  <li><a href="engine2-foam.html">Foam Operations</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="submenu-btn" href="ladder1.html">Ladder 1 ▸</a>
                <ul class="submenu">
                  <li><a href="ladder1.html">Overview</a></li>
                  <li><a href="ladder1-specifications.html">Specifications</a></li>
                  <li><a href="ladder1-hose.html">Hose</a></li>
                  <li><a href="ladder1-equipment.html">Equipment</a></li>
                  <li><a href="ladder1-foam.html">Foam Operations</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="submenu-btn" href="tanker3.html">Tanker 3 ▸</a>
                <ul class="submenu">
                  <li><a href="tanker3.html">Overview</a></li>
                  <li><a href="tanker3-specifications.html">Specifications</a></li>
                  <li><a href="tanker3-hose.html">Hose</a></li>
                  <li><a href="tanker3-equipment.html">Equipment</a></li>
                  <li><a href="tanker3-foam.html">Foam Operations</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="submenu-btn" href="rescue1.html">Rescue 1 ▸</a>
                <ul class="submenu">
                  <li><a href="rescue1.html">Overview</a></li>
                  <li><a href="rescue1-specifications.html">Specifications</a></li>
                  <li><a href="rescue1-hose.html">Hose</a></li>
                  <li><a href="rescue1-equipment.html">Equipment</a></li>
                  <li><a href="rescue1-foam.html">Foam Operations</a></li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="submenu-btn" href="brush11.html">Brush 11 ▸</a>
                <ul class="submenu">
                  <li><a href="brush11.html">Overview</a></li>
                  <li><a href="brush11-specifications.html">Specifications</a></li>
                  <li><a href="brush11-hose.html">Hose</a></li>
                  <li><a href="brush11-equipment.html">Equipment</a></li>
                  <li><a href="brush11-foam.html">Foam Operations</a></li>
                </ul>
              </li>
              <li><a href="brush6.html">Brush 6</a></li>
              <li><a href="squad1.html">Squad 1</a></li>
              <li><a href="boats.html">Boats</a></li>
              <li><a href="ambulance1.html">Ambulance 1</a></li>
              <li><a href="ambulance2.html">Ambulance 2</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a class="dropbtn" href="maps.html">Maps ▾</a>
            <ul class="dropdown-content">
              <li><a class="active" href="water-maps.html">Water Maps</a></li>
              <li><a href="highway-map.html">Highway Map</a></li>
              <li><a href="trail-maps.html">Trail Maps</a></li>
            </ul>
          </li>
          <li><a href="run-cards.html">Run Cards</a></li>
          <li><a href="erg.html">ERG</a></li>
          <li><a href="administrative.html">Administrative</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="container">
      <h2 class="section-title">Water Maps</h2>
      <div class="map-shell">
        <div class="map-search">
          <input id="map-search-input" type="text" placeholder="Search address, intersection, place…" aria-label="Search address"/>
          <button id="map-search-btn" type="button">Search</button>
          <select id="zoom-select" title="Zoom to layer">
            <option value="">Zoom to…</option>
            <option value="hydrants">Hydrants</option>
            <option value="cisterns">Cisterns</option>
            <option value="outdistrict">Out of Hydrant District</option>
            <option value="hfd">All HFD Layers (optional)</option>
            <option value="all">Entire Map</option>
          </select>
        </div>
        <div id="map" role="region" aria-label="Interactive water map"></div>
        <div class="map-layers">
          <label class="layer-toggle"><input type="checkbox" id="layer-hydrants" checked> Hydrants</label>
          <label class="layer-toggle"><input type="checkbox" id="layer-cisterns" checked> Cisterns</label>
          <label class="layer-toggle"><input type="checkbox" id="layer-outdistrict" checked> Out of Hydrant District</label>
          <label class="layer-toggle"><input type="checkbox" id="layer-hfd"> All HFD Layers (optional)</label>
        </div>
        <div class="map-legend">
          <div class="legend-title">Legend</div>
          <div class="legend-item"><span class="legend-swatch" style="background:#e11d48;"></span>Hydrants</div>
          <div class="legend-item"><span class="legend-swatch" style="background:#059669;"></span>Cisterns</div>
          <div class="legend-item"><span class="legend-swatch" style="background:#b91c1c;"></span>Out of Hydrant District</div>
          <div class="legend-item"><span class="legend-swatch" style="background:#7c3aed;"></span>All HFD Layers (optional)</div>
        </div>
        <div id="toast" class="map-toast" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p><strong>© 2025 Hopkinton Fire Department</strong></p>
    </div>
  </footer>

  <!-- Local Leaflet JS -->
  <script src="leaflet/leaflet.js"></script>
  <!-- App logic moved to external JS to satisfy strict CSP -->
  <script src="water-maps.js"></script>
</body>
</html>
