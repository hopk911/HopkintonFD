
/* HFD Unified Popup Styles */
:root { --modal-offset: 96px; } /* fallback; JS will set actual header height */

/* Ensure dialogs are hidden when not open */
dialog:not([open]) { display: none !important; }

/* Native <dialog> modals (highway, administrative, run-cards) */
dialog.modal{position:fixed;inset:0;display:grid;place-items:start center;padding-top:var(--modal-offset);border:none;background:transparent;overflow:visible;z-index:10000;}
dialog.modal[open]{ display: grid; }
dialog.modal::backdrop{ background: rgba(0,0,0,.6); }

/* Legacy DIV overlay (contracts) */
div.modal{position:fixed;inset:0;display:none;align-items:flex-start;justify-content:center;padding-top:var(--modal-offset);background:rgba(0,0,0,.6);z-index:10000;}
div.modal.is-open{ display: flex; }

/* The panel */
.modal__dialog{width:min(1200px,92vw);height:calc(100vh - var(--modal-offset));max-height:calc(100vh - var(--modal-offset));border-radius:20px;overflow:hidden;background:#fff;box-shadow:0 20px 60px rgba(0,0,0,.35);display:flex;flex-direction:column;}

/* Header */
.modal__bar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 18px;
  background: #0a1329;  /* navy */
  color: #fff;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.modal__title{ margin: 0; font-size: 1.1rem; font-weight: 800; }

/* Close button */
.modal__close{
  -webkit-appearance:none; appearance:none;
  background:#e11d48; color:#fff;
  border:0; border-radius:9999px;
  padding:8px 14px; font-weight:800; font-size:1rem; line-height:1;
  cursor:pointer; box-shadow:0 1px 0 rgba(255,255,255,.06) inset;
}
.modal__close:hover{ filter: brightness(1.05); }
.modal__close:focus-visible{ outline:2px solid rgba(255,255,255,.6); outline-offset:2px; }

/* Body */
.modal__body{background:#fff;padding:12px;flex:1 1 auto;height:calc(100vh - var(--modal-offset) - 56px);max-height:calc(100vh - var(--modal-offset) - 56px);overflow:auto;display:flex;align-items:flex-start;justify-content:center;gap:0;}

/* Content within body */
.modal__body img{display:block;width:100%;max-width:100%;height:auto;max-height:calc(100vh - var(--modal-offset) - 56px);object-fit:contain;margin:0;border:0;}
.modal__body iframe, .modal__body embed{display:block;width:100%;height:100%;border:0;}
.modal__body iframe{display:block;width:100%;height:100%;border:0;}
@supports (height: 100dvh){
  .modal__dialog{width:min(1200px,92vw);height:calc(100vh - var(--modal-offset));max-height:calc(100vh - var(--modal-offset));border-radius:20px;overflow:hidden;background:#fff;box-shadow:0 20px 60px rgba(0,0,0,.35);display:flex;flex-direction:column;}
  .modal__body{background:#fff;padding:12px;flex:1 1 auto;height:calc(100vh - var(--modal-offset) - 56px);max-height:calc(100vh - var(--modal-offset) - 56px);overflow:auto;display:flex;align-items:flex-start;justify-content:center;gap:0;}
}
.modal__dialog > .modal__bar{display:flex;align-items:center;justify-content:space-between;gap:12px;min-height:56px;padding:14px 18px;background:#0a1329!important;color:#ffffff!important;border:0;border-bottom:1px solid rgba(255,255,255,.08);box-shadow:none;margin:0;}
.modal__bar .modal__title{margin:0;font-size:1.1rem;line-height:1.2;font-weight:800;letter-spacing:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.modal__bar .modal__close{-webkit-appearance:none;appearance:none;background:#e11d48!important;color:#fff;border:0;border-radius:9999px;padding:8px 14px;font-weight:800;font-size:1rem;line-height:1;cursor:pointer;box-shadow:0 1px 0 rgba(255,255,255,.06) inset;}

.modal__body > :first-child{ margin-top: 0; }
